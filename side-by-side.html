<!doctype html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="./side-by-side.css">
</head>




<h2>
    Scroller With Snap
</h2>
<p>
    <label for="alignment">Alignment:</label>
    <select id="alignment_option">
        <option value="start">Start</option>
        <option value="center" selected>Center</option>
        <option value="end">End</option>
        <option value="none">None</option>
    </select>
</p>
<p>
    <label for="stop">Snap Stop:</label>
    <select id="stop_option">
        <option value="always">Always</option>
        <option value="normal" selected>Normal</option>
    </select>
</p>

<div id="paginated_gallery" class="gallery">
    <div class="gallery_scroller">
        <div class="colored_card">
            <p>1 </p>
        </div>
        <div class="colored_card">
            <p>2 </p>
        </div>
        <div class="colored_card">
            <p>3 </p>
        </div>
        <div class="colored_card">
            <p>4 </p>
        </div>
        <div class="colored_card">
            <p>5 </p>
        </div>
        <div class="colored_card">
            <p>6 </p>
        </div>
        <div class="colored_card">
            <p>7 </p>
        </div>
        <div class="colored_card">
            <p>8 </p>
        </div>
        <div class="colored_card">
            <p>9 </p>
        </div>
        <div class="colored_card">
            <p>10</p>
        </div>
        <div class="colored_card">
            <p>11</p>
        </div>
        <div class="colored_card">
            <p>12</p>
        </div>
        <div class="colored_card">
            <p>13</p>
        </div>
        <div class="colored_card">
            <p>14</p>
        </div>
        <div class="colored_card">
            <p>15</p>
        </div>
        <div class="colored_card">
            <p>16</p>
        </div>
        <div class="colored_card">
            <p>17</p>
        </div>
        <div class="colored_card">
            <p>18</p>
        </div>
        <div class="colored_card">
            <p>19</p>
        </div>
        <div class="colored_card">
            <p>20</p>
        </div>
    </div>
    <!--   <span class="btn prev"></span>
  <span class="btn next"></span> -->
</div>

<h2>
    Scroller Without Snap
</h2>
<div id="paginated_gallery" class="gallery">
    <div class="gallery_scroller no_snap">
        <div class="colored_card">
            <p>1 </p>
        </div>
        <div class="colored_card">
            <p>2 </p>
        </div>
        <div class="colored_card">
            <p>3 </p>
        </div>
        <div class="colored_card">
            <p>4 </p>
        </div>
        <div class="colored_card">
            <p>5 </p>
        </div>
        <div class="colored_card">
            <p>6 </p>
        </div>
        <div class="colored_card">
            <p>7 </p>
        </div>
        <div class="colored_card">
            <p>8 </p>
        </div>
        <div class="colored_card">
            <p>9 </p>
        </div>
        <div class="colored_card">
            <p>10</p>
        </div>
        <div class="colored_card">
            <p>11</p>
        </div>
        <div class="colored_card">
            <p>12</p>
        </div>
        <div class="colored_card">
            <p>13</p>
        </div>
        <div class="colored_card">
            <p>14</p>
        </div>
        <div class="colored_card">
            <p>15</p>
        </div>
        <div class="colored_card">
            <p>16</p>
        </div>
        <div class="colored_card">
            <p>17</p>
        </div>
        <div class="colored_card">
            <p>18</p>
        </div>
        <div class="colored_card">
            <p>19</p>
        </div>
        <div class="colored_card">
            <p>20</p>
        </div>
    </div>
</div>




<script>
    document.querySelector('#alignment_option').addEventListener('change', updateAlignmentOrStop);
    document.querySelector('#stop_option').addEventListener('change', updateAlignmentOrStop);


    const gallery = document.querySelector('#paginated_gallery');
    const gallery_scroller = gallery.querySelector('.gallery_scroller');
    const gallery_item_size = gallery_scroller.querySelector('div').clientWidth;

    gallery.querySelector('.btn.next').addEventListener('click', scrollToNextPage);
    gallery.querySelector('.btn.prev').addEventListener('click', scrollToPrevPage);

    // For paginated scrolling, simply scroll the gallery one item in the given
    // direction and let css scroll snaping handle the specific alignment.
    function scrollToNextPage() {
        gallery_scroller.scrollBy(gallery_item_size, 0);
    }
    function scrollToPrevPage() {
        gallery_scroller.scrollBy(-gallery_item_size, 0);
    }

    function updateAlignmentOrStop(event) {
        const alignment = document.querySelector('#alignment_option').value;
        const stop = document.querySelector('#stop_option').value;

        for (item of gallery.querySelectorAll('.gallery_scroller > div')) {
            item.style.scrollSnapAlign = alignment;
            item.style.scrollSnapStop = stop;
        }

        // Currently changing scroll alignment does not force a re-snap in Chrome.
        // This is a bug: http://crbug.com/866127
        // In meantime, if desired a scroll snap can be triggered using a small 
        // scripted scroll e.g.: `gallery_scroller.scrollBy(1, 0);`
    }


</script>

</html>